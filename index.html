<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>å¤§å‡‰è¯­ç³»é›…è¨€è¾“å…¥æ³•</title>
  <style>
    body { background: #0b0c2a; color: #fff; font-family: "Microsoft YaHei"; text-align: center; margin: 0; padding: 20px; }
    #keyboard { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 20px; }
    .key { background: #f0c000; color: #000; border: none; border-radius: 8px; padding: 12px; margin: 6px; font-size: 18px; cursor: pointer; box-shadow: 0 0 8px #f0c00066; transition: transform 0.1s ease; }
    .key:hover { transform: scale(1.05); }
    #inputBox { margin-top: 20px; padding: 10px; width: 90%; font-size: 16px; border-radius: 8px; border: none; }
    #outputCanvas { background: #111; margin-top: 20px; border: 1px solid #f0c000; border-radius: 6px; }
    #upperCaseBtn { background: #007bff; color: white; padding: 10px 20px; margin-top: 20px; border-radius: 8px; cursor: pointer; }
    #deleteBtn { background: #dc3545; color: white; padding: 10px 20px; margin-top: 20px; border-radius: 8px; cursor: pointer; }
  </style>
</head>
<body>
  <h2>ğŸŒ  å¤§å‡‰è¯­ç³»é›…è¨€è¾“å…¥æ³•</h2>
  <input type="text" id="inputBox" placeholder="è¾“å…¥æ‹‰ä¸å­—æ¯..." />
  <div id="keyboard">
    <!-- è¿™é‡Œçš„æŒ‰é’®æ˜¯æ‹‰ä¸å­—æ¯é”®ç›˜ï¼Œæ¯ä¸ªæŒ‰é’®ç»‘å®šä¸€ä¸ªå­—ç¬¦ -->
    <button class="key" onclick="handleKeyClick('a')">A</button>
    <button class="key" onclick="handleKeyClick('b')">B</button>
    <button class="key" onclick="handleKeyClick('c')">C</button>
    <!-- æ·»åŠ æ›´å¤šçš„å­—æ¯é”® -->
  </div>
  <button id="upperCaseBtn" onclick="toggleCase()">åˆ‡æ¢å¤§å°å†™</button>
  <button id="deleteBtn" onclick="deleteCharacter()">åˆ é™¤</button>

  <canvas id="outputCanvas" width="300" height="300"></canvas>

  <script src="render.js"></script>
  <script>
    let isUpperCase = false;
    let currentInput = '';

    // æŒ‰é”®ç‚¹å‡»å¤„ç†
    function handleKeyClick(letter) {
      if (isUpperCase) {
        letter = letter.toUpperCase();
      }
      currentInput += letter;
      document.getElementById('inputBox').value = currentInput;
      renderCharacter(currentInput);
    }

    // åˆ‡æ¢å¤§å°å†™
    function toggleCase() {
      isUpperCase = !isUpperCase;
    }

    // åˆ é™¤å­—ç¬¦
    function deleteCharacter() {
      currentInput = currentInput.slice(0, -1);
      document.getElementById('inputBox').value = currentInput;
      renderCharacter(currentInput);
    }

    // æ¸²æŸ“å­—ç¬¦å‡½æ•°
    function renderCharacter(input) {
      const canvas = document.getElementById('outputCanvas');
      const ctx = canvas.getContext('2d');
      const charData = getCharData(input);

      renderChar(charData, canvas.width, canvas.height, ctx);
    }

    // è·å–å­—ç¬¦æ¸²æŸ“æ•°æ®ï¼ˆè¿™é‡Œå¯ä»¥æ ¹æ®inputå­—ç¬¦ä»JSONä¸­è·å–æ¸²æŸ“ä¿¡æ¯ï¼‰
    function getCharData(input) {
      // ç¤ºä¾‹ï¼šè¿”å›ä¸€ä¸ªç®€å•çš„ç¬”ç”»æ•°æ®ï¼Œå®é™…æƒ…å†µåº”ä»å­˜å‚¨çš„å­—ç¬¦æ•°æ®ä¸­è·å–
      if (input === 'a') {
        return [{ x: 10, y: 10 }, { x: 50, y: 50 }, { x: 100, y: 100 }]; // ä¼ªæ•°æ®
      }
      // æ·»åŠ æ›´å¤šå­—ç¬¦å¯¹åº”çš„æ•°æ®
      return [];
    }

  </script>
</body>
</html>
